<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FitCoin Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://sad.adsgram.ai/js/adsgram-ad-sdk.js"></script>
    <style>
        :root { --main: #f3ba2f; --bg: #0b0e11; --card: #1c1f24; }
        body { font-family: sans-serif; background: var(--bg); color: white; margin: 0; display: flex; flex-direction: column; align-items: center; height: 100vh; overflow: hidden; }
        .header { display: flex; width: 100%; justify-content: space-around; padding: 15px 0; background: var(--card); border-bottom: 2px solid var(--main); z-index: 10; }
        .balance-container { text-align: center; margin-top: 40px; }
        .balance { font-size: 3.5rem; font-weight: bold; color: var(--main); text-shadow: 0 0 20px rgba(243,186,47,0.3); }
        .character-zone { width: 260px; height: 260px; background: radial-gradient(circle, #3a3f47, #1c1f24); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 110px; border: 8px solid #2d333b; cursor: pointer; transition: transform 0.1s; margin-top: 30px; box-shadow: 0 0 40px rgba(0,0,0,0.5); }
        .character-zone:active { transform: scale(0.95); }
        .nav { position: fixed; bottom: 0; width: 100%; display: flex; background: var(--card); padding: 15px 0; justify-content: space-around; border-top: 1px solid #333; }
        .nav-item { text-align: center; font-size: 0.8rem; color: #888; cursor: pointer; flex: 1; }
        .nav-item.active { color: var(--main); }
        .btn-ad { background: var(--main); color: black; border: none; padding: 10px 20px; border-radius: 10px; font-weight: bold; margin-top: 20px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="header">
        <div>Ø§Ù„Ø±Ø¨Ø­/Ø³Ø§Ø¹Ø©<br><span id="pph" style="color:var(--main)">+150</span></div>
        <div>Ø§Ù„Ù…Ø³ØªÙˆÙ‰<br><span id="lvl" style="color:var(--main)">Ù…Ø¨ØªØ¯Ø¦</span></div>
    </div>

    <div class="balance-container">
        <div class="balance" id="score">0</div>
        <div style="color: #888;">Ø¹Ù…Ù„Ø© FIT</div>
    </div>

    <div class="character-zone" id="tapBtn">ğŸ¹</div>

    <div class="nav">
        <div class="nav-item active">ğŸ <br>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
        <div class="nav-item" onclick="showAd()">ğŸ“º<br>Ø£Ø±Ø¨Ø§Ø­</div>
        <div class="nav-item" onclick="invite()">ğŸ‘¥<br>Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</div>
    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
        const tg = window.Telegram.WebApp;
        tg.expand(); // ØªÙˆØ³ÙŠØ¹ Ø§Ù„Ø´Ø§Ø´Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„

        let score = parseInt(localStorage.getItem('fscore')) || 0;
        const blockId = "20473"; // Ø±Ù‚Ù… Block ID Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬ Ù…Ù† Ø§Ù„ØµÙˆØ±

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        function updateUI() {
            document.getElementById('score').innerText = score.toLocaleString();
            localStorage.setItem('fscore', score);
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø±
        document.getElementById('tapBtn').addEventListener('click', (e) => {
            score += 10;
            updateUI();
            // Ø§Ù‡ØªØ²Ø§Ø² Ø¨Ø³ÙŠØ· Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø±
            if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
        });

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø·ÙˆØ±
        function showAd() {
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø£ÙˆÙ„Ø§Ù‹
            if (!window.Adsgram) {
                alert("Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù„Ù… ÙŠÙƒØªÙ…Ù„ ØªØ­Ù…ÙŠÙ„Ù‡ Ø¨Ø¹Ø¯. Ø£Ø¹Ø¯ ÙØªØ­ Ø§Ù„Ø¨ÙˆØª.");
                return;
            }

            const AdController = window.Adsgram.init({ blockId: blockId });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø¨Ø³ÙŠØ·Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
            tg.showConfirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø¥Ø¹Ù„Ø§Ù† Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ 5,000 Ù†Ù‚Ø·Ø©ØŸ", (confirmed) => {
                if (confirmed) {
                    AdController.show()
                        .then((result) => {
                            score += 5000;
                            updateUI();
                            tg.showAlert("Ù…Ø¨Ø±ÙˆÙƒ! ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© 5,000 Ù†Ù‚Ø·Ø© Ù„Ø±ØµÙŠØ¯Ùƒ.");
                        })
                        .catch((error) => {
                            console.error(error);
                            tg.showAlert("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…ØªÙˆÙØ±Ø© Ø­Ø§Ù„ÙŠØ§Ù‹ ÙÙŠ Ù…Ù†Ø·Ù‚ØªÙƒØŒ Ø­Ø§ÙˆÙ„ Ø¨Ø¹Ø¯ Ù‚Ù„ÙŠÙ„.");
                        });
                }
            });
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø­Ø§Ù„Ø©
        function invite() {
            const inviteLink = "https://t.me/Botcoinfit_bot";
            const text = "Ø§Ù†Ø¶Ù… Ø¥Ù„ÙŠ ÙÙŠ FitCoin ÙˆØ§Ø¨Ø¯Ø£ Ø¨Ø¬Ù†ÙŠ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­!";
            tg.openTelegramLink(`https://t.me/share/url?url=${encodeURIComponent(inviteLink)}&text=${encodeURIComponent(text)}`);
        }

        // ØªØ´ØºÙŠÙ„ Ø­Ø³Ø§Ø³ Ø§Ù„Ø­Ø±ÙƒØ© (Ø§Ù„Ø±Ø¨Ø­ Ø¨Ø§Ù„Ù…Ø´ÙŠ)
        if (window.DeviceMotionEvent) {
            window.addEventListener('devicemotion', (event) => {
                let acc = event.accelerationIncludingGravity;
                if (Math.abs(acc.x) > 15 || Math.abs(acc.y) > 15) {
                    score += 1;
                    updateUI();
                }
            });
        }

        updateUI();
    </script>
</body>
</html>

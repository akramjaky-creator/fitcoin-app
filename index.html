<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>FitCoin Pro - Human Mining</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://sad.adsgram.ai/js/adsgram-ad-sdk.js"></script>
    <style>
        :root { --main: #f3ba2f; --bg: #0b0e11; --card: #1c1f24; --text: #ffffff; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; user-select: none; }
        
        /* Ø§Ù„Ù‡ÙŠØ¯Ø±: Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªØ¹Ø¯ÙŠÙ† */
        .stats-bar { display: flex; justify-content: space-around; background: var(--card); padding: 10px; border-bottom: 2px solid #2d333b; }
        .stat-item { text-align: center; flex: 1; border-right: 1px solid #333; }
        .stat-item:last-child { border-right: none; }
        .stat-val { color: var(--main); font-weight: bold; font-size: 1rem; }
        .stat-label { font-size: 0.65rem; color: #888; text-transform: uppercase; }

        /* Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„ÙƒØ¨ÙŠØ± */
        .balance-section { text-align: center; margin: 25px 0; }
        .balance-amount { font-size: 3.2rem; font-weight: 900; color: white; text-shadow: 0 0 20px rgba(243,186,47,0.3); }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© */
        .tap-area { flex-grow: 1; display: flex; justify-content: center; align-items: center; position: relative; }
        .character-circle { width: 280px; height: 280px; background: radial-gradient(circle, #3a3f47, #0b0e11); border-radius: 50%; border: 8px solid #2d333b; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: transform 0.1s; box-shadow: 0 0 50px rgba(0,0,0,0.6); position: relative; }
        .character-circle:active { transform: scale(0.95); }
        .character-emoji { font-size: 140px; }

        /* ØªØ£Ø«ÙŠØ± +10 Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± */
        .tap-plus { position: absolute; color: white; font-size: 28px; font-weight: bold; animation: fadeUp 0.8s ease-out forwards; pointer-events: none; z-index: 100; }
        @keyframes fadeUp { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-120px); } }

        /* Ø§Ù„Ù…ØªØ¬Ø± (Shop) */
        #shopPanel { position: fixed; bottom: -100%; left: 0; width: 100%; height: 75%; background: var(--card); border-top: 3px solid var(--main); border-radius: 25px 25px 0 0; transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1); z-index: 200; padding: 20px; box-sizing: border-box; overflow-y: auto; }
        #shopPanel.active { bottom: 0; }
        .shop-header { display: flex; justify-content: space-between; margin-bottom: 20px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .card { background: #2d333b; padding: 15px; border-radius: 15px; text-align: center; border: 1px solid #3d444d; }
        .buy-btn { background: var(--main); color: black; border: none; padding: 10px; border-radius: 8px; width: 100%; font-weight: bold; margin-top: 8px; cursor: pointer; }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ© */
        .nav { position: fixed; bottom: 0; width: 100%; display: flex; background: #1c1f24; border-top: 1px solid #333; padding: 10px 0; z-index: 150; }
        .nav-item { flex: 1; text-align: center; color: #888; font-size: 0.75rem; cursor: pointer; }
        .nav-item.active { color: var(--main); }

        /* Ù‚Ø³Ù… Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ØªØ¬Ø± */
        .deposit-box { background: #000; padding: 15px; border-radius: 12px; margin-top: 20px; text-align: center; }
        .address { color: var(--main); font-size: 0.7rem; word-break: break-all; background: #222; padding: 8px; border-radius: 5px; display: block; margin: 10px 0; border: 1px dashed #444; }
    </style>
</head>
<body>

    <div class="stats-bar">
        <div class="stat-item">
            <div class="stat-label">Ø±Ø¨Ø­ Ø§Ù„Ù†Ù‚Ø±Ø©</div>
            <div class="stat-val">+10</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">Ø±Ø¨Ø­ Ø§Ù„Ø³Ø§Ø¹Ø©</div>
            <div class="stat-val" id="pphDisplay">+0</div>
        </div>
        <div class="stat-item">
            <div class="stat-label">Ø§Ù„Ù…Ø³ØªÙˆÙ‰</div>
            <div class="stat-val">Ø¥Ù†Ø³Ø§Ù† Ù…Ø¹Ø¯Ù‘Ù†</div>
        </div>
    </div>

    <div class="balance-section">
        <div class="balance-amount" id="balanceDisplay">0</div>
        <div style="color: var(--main); font-weight: bold; letter-spacing: 2px;">FITCOIN</div>
    </div>

    <div class="tap-area">
        <div class="character-circle" id="mainTap">
            <span class="character-emoji">ğŸ§â€â™‚ï¸</span>
        </div>
    </div>

    <div id="shopPanel">
        <div class="shop-header">
            <h3>Ù…ØªØ¬Ø± Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±Ø§Øª ğŸ›’</h3>
            <button onclick="closeShop()" style="background:none; border:none; color:white; font-size:24px;">âœ•</button>
        </div>
        <div class="grid">
            <div class="card">
                <div style="font-size: 30px;">ğŸ‘Ÿ</div>
                <h4>Ø­Ø°Ø§Ø¡ Ø¬Ø±ÙŠ</h4>
                <p style="font-size: 0.7rem;">+500 / Ø³Ø§Ø¹Ø©</p>
                <button class="buy-btn" onclick="buy(5000, 500)">5K Ø´Ø±Ø§Ø¡</button>
            </div>
            <div class="card">
                <div style="font-size: 30px;">ğŸ‘•</div>
                <h4>Ø¨Ø¯Ù„Ø© ØªØ¹Ø¯ÙŠÙ†</h4>
                <p style="font-size: 0.7rem;">+1500 / Ø³Ø§Ø¹Ø©</p>
                <button class="buy-btn" onclick="buy(15000, 1500)">15K Ø´Ø±Ø§Ø¡</button>
            </div>
            <div class="card">
                <div style="font-size: 30px;">ğŸ§¢</div>
                <h4>Ø®ÙˆØ°Ø© Ø°ÙƒÙŠØ©</h4>
                <p style="font-size: 0.7rem;">+3000 / Ø³Ø§Ø¹Ø©</p>
                <button class="buy-btn" onclick="buy(30000, 3000)">30K Ø´Ø±Ø§Ø¡</button>
            </div>
            <div class="card">
                <div style="font-size: 30px;">ğŸ‘“</div>
                <h4>Ù†Ø¸Ø§Ø±Ø© VR</h4>
                <p style="font-size: 0.7rem;">+7000 / Ø³Ø§Ø¹Ø©</p>
                <button class="buy-btn" onclick="buy(70000, 7000)">70K Ø´Ø±Ø§Ø¡</button>
            </div>
        </div>
        
        <div class="deposit-box">
            <p style="font-size: 0.8rem; margin: 0;">Ù„Ø´Ø­Ù† Ø§Ù„Ø±ØµÙŠØ¯ (USDT - TRC20):</p>
            <span class="address" id="walletAddr">TNNFBZEbTgU1q2xKhVBC8CwrbzCmEL3bpX</span>
            <button onclick="copyAddr()" style="background:#f3ba2f; border:none; padding:5px 15px; border-radius:5px; cursor:pointer;">Ù†Ø³Ø® Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</button>
        </div>
    </div>

    <div class="nav">
        <div class="nav-item active">ğŸ <br>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
        <div class="nav-item" onclick="openShop()">ğŸ›’<br>Ø§Ù„Ù…ØªØ¬Ø±</div>
        <div class="nav-item" onclick="handleAds()">ğŸ“º<br>Ø£Ø±Ø¨Ø§Ø­</div>
        <div class="nav-item" onclick="inviteFriend()">ğŸ‘¥<br>Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</div>
    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªÙ„ÙŠØ¬Ø±Ø§Ù…
        const tg = window.Telegram.WebApp;
        tg.expand();

        // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© (ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø©)
        let balance = parseFloat(localStorage.getItem('fit_bal')) || 0;
        let pph = parseFloat(localStorage.getItem('fit_pph')) || 0;
        const blockId = "20473"; // Ø±Ù‚Ù… Ø§Ù„Ù€ Block Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ

        function updateUI() {
            document.getElementById('balanceDisplay').innerText = Math.floor(balance).toLocaleString();
            document.getElementById('pphDisplay').innerText = "+" + pph.toLocaleString();
            localStorage.setItem('fit_bal', balance);
            localStorage.setItem('fit_pph', pph);
        }

        // Ù…Ù†Ø·Ù‚ Ø§Ù„Ù†Ù‚Ø±
        document.getElementById('mainTap').addEventListener('click', (e) => {
            balance += 10;
            updateUI();
            
            // Ø§Ù‡ØªØ²Ø§Ø² ÙˆØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ
            if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
            createPlusEffect(e.pageX, e.pageY);
        });

        function createPlusEffect(x, y) {
            const el = document.createElement('div');
            el.innerText = "+10";
            el.className = 'tap-plus';
            el.style.left = x + 'px';
            el.style.top = y + 'px';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 800);
        }

        // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ø¯ÙŠÙ† Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ (ÙŠØ¹Ù…Ù„ ÙƒÙ„ Ø«Ø§Ù†ÙŠØ©)
        setInterval(() => {
            if (pph > 0) {
                balance += (pph / 3600);
                updateUI();
            }
        }, 1000);

        // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØ¬Ø±
        function openShop() { document.getElementById('shopPanel').classList.
